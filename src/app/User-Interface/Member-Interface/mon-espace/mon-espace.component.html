<div *ngIf="showData || verifyPassword">
  <button (click)="disconnect()">DÃ©connexion</button>
</div>

<!-- Shows password change form if it's the first connection -->
<ng-container *ngIf="verifyPassword; else elseShowData">
  <app-change-password
    [userId]="userId"
    (passwordVerifiedEvent)="handlePasswordVerified($event)"
  ></app-change-password>
</ng-container>

<!-- Shows data if it isn't the first connection -->
<ng-template #elseShowData>
  <div *ngIf="showData">
    <h2>Bienvenue dans votre espace personnel {{ username }}</h2>

    <!-- Shows admin panel -->
    <ng-container *ngIf="isAdmin; else elseShowShips">
      <app-admin-panel></app-admin-panel>
    </ng-container>

    <!-- Show ships as well if not admin -->
    <ng-template #elseShowShips>
      <app-display-ships></app-display-ships>
    </ng-template>
  </div>
</ng-template>
